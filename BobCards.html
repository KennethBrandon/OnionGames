<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JV4DNLEE4R"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-JV4DNLEE4R');
    </script>

    <title>Soldier Showdown</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.263.1"
      }
    }
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body class="bg-slate-950 text-white">
    <div id="root"></div>
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { Trophy, User, Monitor, Play, RotateCcw, Shield, Swords, Crosshair, Skull, ArrowRight, Lock, AlertCircle } from 'lucide-react';

        // --- Game Constants & Logic ---

        const CARD_TYPES = {
            WEAK_SOLDIER: { id: 'weak', name: 'Weak Soldier', power: 1, color: 'bg-stone-300 border-stone-500 text-stone-800', icon: Shield },
            SOLDIER: { id: 'soldier', name: 'Soldier', power: 2, color: 'bg-green-600 border-green-800 text-white', icon: Swords },
            MEGA_SOLDIER: { id: 'mega', name: 'Mega Soldier', power: 4, color: 'bg-purple-600 border-purple-900 text-white', icon: Skull },
            DOUBLE_GUN_BOY: { id: 'gunboy', name: 'Double Gun Boy', power: 4, color: 'bg-red-600 border-red-900 text-white', icon: Crosshair },
        };

        const createDeck = (totalCardsNeeded) => {
            const deck = [];
            for (let i = 0; i < totalCardsNeeded; i++) {
                const rand = Math.random();
                let type = CARD_TYPES.WEAK_SOLDIER;
                if (rand > 0.85) type = CARD_TYPES.DOUBLE_GUN_BOY;
                else if (rand > 0.70) type = CARD_TYPES.MEGA_SOLDIER;
                else if (rand > 0.40) type = CARD_TYPES.SOLDIER;

                deck.push({
                    uid: Math.random().toString(36).substr(2, 9),
                    ...type
                });
            }
            return shuffle(deck);
        };

        const shuffle = (array) => {
            let currentIndex = array.length, randomIndex;
            while (currentIndex !== 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }
            return array;
        };

        // --- Helper Components ---

        const Card = ({ card, revealed = true, onClick, selected, disabled, small }) => {
            const Icon = card.icon || Shield;

            if (!revealed) {
                return (
                    <div className={`${small ? 'w-16 h-24 border-2' : 'w-24 h-36 border-4'} rounded-xl bg-slate-800 border-slate-600 flex items-center justify-center shadow-md`}>
                        <div className={`${small ? 'w-8 h-12' : 'w-12 h-16'} border-2 border-slate-700 rounded bg-slate-700 opacity-50 flex items-center justify-center`}>
                            <Shield className="text-slate-900" size={small ? 16 : 24} />
                        </div>
                    </div>
                );
            }

            return (
                <button onClick={onClick} disabled={disabled} className={`
                    relative group
                    ${small ? 'w-16 h-24' : 'w-24 h-36'}
                    rounded-xl border-b-4 border-r-4 border-t-2 border-l-2
                    flex flex-col items-center justify-between p-1
                    shadow-lg transition-all duration-200
                    ${card.color}
                    ${selected ? 'ring-4 ring-yellow-400 -translate-y-2 z-10' : ''}
                    ${!disabled && !selected ? 'hover:-translate-y-1 hover:shadow-xl' : ''}
                    ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}
                `}>
                    <div className="w-full flex justify-between items-start font-bold uppercase tracking-tighter leading-none">
                        <span className={small ? 'text-[10px]' : 'text-xs'}>{card.power}</span>
                    </div>
                    <div className="flex-1 flex items-center justify-center">
                        <Icon size={small ? 20 : 32} strokeWidth={2.5} />
                    </div>
                    {!small && (
                        <div className="text-[9px] font-black uppercase text-center leading-none pb-1">
                            {card.name}
                        </div>
                    )}
                </button>
            );
        };

        // --- Screens ---

        const SetupScreen = ({ onStart }) => {
            const [handSize, setHandSize] = useState(12);

            return (
                <div className="min-h-screen bg-slate-900 text-white flex items-center justify-center p-4">
                    <div className="max-w-md w-full bg-slate-800 p-8 rounded-2xl shadow-2xl border border-slate-700">
                        <h1 className="text-4xl font-black text-center mb-2 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-600">
                            SOLDIER SHOWDOWN
                        </h1>
                        <p className="text-slate-400 text-center mb-8">Tactical Wave Warfare</p>

                        <div className="space-y-6">
                            <div>
                                <label className="flex justify-between mb-2 font-bold text-slate-300">
                                    <span className="flex items-center gap-2">
                                        <Shield size={18} /> Army Size (Cards)
                                    </span>
                                    <span className="text-green-400">{handSize}</span>
                                </label>
                                <input
                                    type="range"
                                    min="5"
                                    max="20"
                                    value={handSize}
                                    onChange={(e) => setHandSize(parseInt(e.target.value))}
                                    className="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500"
                                />
                                <div className="flex justify-between text-xs text-slate-500 mt-1">
                                    <span>5 (Quick Skirmish)</span>
                                    <span>20 (Full War)</span>
                                </div>
                            </div>

                            <div className="bg-slate-900/50 p-4 rounded-lg border border-slate-700 text-xs space-y-2 text-slate-400">
                                <p className="flex items-start gap-2">
                                    <AlertCircle size={14} className="mt-0.5 text-blue-400 shrink-0" />
                                    <span>Arrange your cards into <strong className="text-blue-300">Waves</strong>. Each wave can hold up to 5 units.</span>
                                </p>
                                <p className="flex items-start gap-2">
                                    <Swords size={14} className="mt-0.5 text-red-400 shrink-0" />
                                    <span>Waves clash sequentially. Higher total power wins the wave and captures all cards!</span>
                                </p>
                            </div>

                            <button
                                onClick={() => onStart(handSize)}
                                className="w-full py-4 bg-green-600 hover:bg-green-500 text-white font-black rounded-xl shadow-lg transform transition active:scale-95 flex items-center justify-center gap-2 text-lg"
                            >
                                <Play size={24} fill="currentColor" /> BUILD ARMY
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const PlanningScreen = ({
            playerHand,
            playerWaves,
            currentWaveIndex,
            onUpdateWaves,
            onReady,
            totalWaves
        }) => {
            const [selectedCard, setSelectedCard] = useState(null); // { card, source: 'hand' | 'wave', waveIndex }

            // Count unassigned cards
            const assignedCardIds = new Set(playerWaves.flat().map(c => c.uid));
            const unassignedCards = playerHand.filter(c => !assignedCardIds.has(c.uid));
            const isAllAssigned = unassignedCards.length === 0;

            const handleCardClick = (card, source, waveIdx = null) => {
                if (selectedCard && selectedCard.card.uid === card.uid) {
                    setSelectedCard(null); // Deselect
                    return;
                }

                // If we have a selected card, try to swap or move
                if (selectedCard) {
                    // Logic handled by the container click usually, but if clicking another card directly:
                    // We'll just select the new card for simplicity in this version, 
                    // rather than complex swap logic on card click.
                    setSelectedCard({ card, source, waveIdx });
                } else {
                    setSelectedCard({ card, source, waveIdx });
                }
            };

            const handleContainerClick = (targetSource, targetWaveIdx = null) => {
                if (!selectedCard) return;

                // Create deep copy of waves
                const newWaves = playerWaves.map(w => [...w]);

                // Remove from old location
                if (selectedCard.source === 'wave') {
                    newWaves[selectedCard.waveIdx] = newWaves[selectedCard.waveIdx].filter(c => c.uid !== selectedCard.card.uid);
                }
                // If source was hand, it's just filtered out of unassigned view, but we need to track it properly in the main state if we were tracking 'hand' separately from waves.
                // In this implementation, `playerHand` is the source of truth for ALL cards. `playerWaves` is just the organization.
                // So we just need to ensure the card isn't in another wave.

                // Wait, let's simplify:
                // If moving TO a wave:
                if (targetSource === 'wave') {
                    if (newWaves[targetWaveIdx].length >= 5) {
                        // Wave full
                        setSelectedCard(null);
                        return;
                    }
                    // Remove from any other wave if it was in one
                    for (let i = 0; i < newWaves.length; i++) {
                        newWaves[i] = newWaves[i].filter(c => c.uid !== selectedCard.card.uid);
                    }
                    // Add to new wave
                    newWaves[targetWaveIdx].push(selectedCard.card);
                } else if (targetSource === 'hand') {
                    // Just remove from all waves
                    for (let i = 0; i < newWaves.length; i++) {
                        newWaves[i] = newWaves[i].filter(c => c.uid !== selectedCard.card.uid);
                    }
                }

                onUpdateWaves(newWaves);
                setSelectedCard(null);
            };

            return (
                <div className="flex flex-col h-full bg-slate-900 p-2 md:p-4">
                    {/* Header */}
                    <div className="flex justify-between items-center mb-4 bg-slate-800 p-3 rounded-xl border border-slate-700">
                        <div>
                            <h2 className="text-xl font-bold text-white flex items-center gap-2">
                                <User className="text-blue-400" /> War Room
                            </h2>
                            <p className="text-slate-400 text-xs">
                                Prepare for Wave {currentWaveIndex + 1} / {totalWaves}
                            </p>
                        </div>
                        <button
                            disabled={!isAllAssigned}
                            onClick={onReady}
                            className={`
                                px-6 py-2 rounded-lg font-black text-sm uppercase tracking-wider flex items-center gap-2 transition-all
                                ${isAllAssigned ? 'bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/50' : 'bg-slate-700 text-slate-500 cursor-not-allowed'}
                            `}
                        >
                            {isAllAssigned ? (currentWaveIndex === 0 ? 'Start War' : 'Deploy Wave') : 'Assign All Units'}
                            <ArrowRight size={16} />
                        </button>
                    </div>

                    {/* Main Planning Area */}
                    <div className="flex-1 flex flex-col md:flex-row gap-4 overflow-hidden">

                        {/* Left: Waves (Drop Zones) */}
                        <div className="flex-1 overflow-y-auto pr-2 space-y-3">
                            {playerWaves.map((wave, idx) => {
                                const isPast = idx < currentWaveIndex;
                                const isCurrent = idx === currentWaveIndex;
                                if (isPast) return null; // Don't show completed waves

                                return (
                                    <div
                                        key={idx}
                                        onClick={() => !isPast && handleContainerClick('wave', idx)}
                                        className={`
                                            p-3 rounded-xl border-2 transition-all min-h-[140px]
                                            ${isCurrent ? 'bg-blue-900/20 border-blue-500/50 ring-1 ring-blue-500/20' : 'bg-slate-800/40 border-slate-700 border-dashed opacity-80'}
                                            ${selectedCard && !isPast ? 'hover:bg-blue-900/30 hover:border-blue-400 cursor-pointer' : ''}
                                        `}
                                    >
                                        <div className="flex justify-between items-center mb-2">
                                            <span className={`text-xs font-bold uppercase tracking-widest ${isCurrent ? 'text-blue-400' : 'text-slate-500'}`}>
                                                Wave {idx + 1}
                                            </span>
                                            <span className="text-xs font-mono text-slate-500">
                                                {wave.length}/5 Units â€¢ Power: {wave.reduce((acc, c) => acc + c.power, 0)}
                                            </span>
                                        </div>

                                        <div className="flex flex-wrap gap-2">
                                            {wave.length === 0 && (
                                                <div className="w-full h-24 flex items-center justify-center text-slate-600 text-xs italic">
                                                    {isCurrent ? "Drop units here for the next battle" : "Reserve forces"}
                                                </div>
                                            )}
                                            {wave.map(card => (
                                                <Card
                                                    key={card.uid}
                                                    card={card}
                                                    small
                                                    selected={selectedCard?.card.uid === card.uid}
                                                    onClick={(e) => {
                                                        e.stopPropagation();
                                                        handleCardClick(card, 'wave', idx);
                                                    }}
                                                />
                                            ))}
                                        </div>
                                    </div>
                                );
                            })}
                        </div>

                        {/* Right: Unassigned (Hand) */}
                        <div
                            onClick={() => handleContainerClick('hand')}
                            className={`
                                md:w-1/3 min-h-[200px] bg-slate-800 rounded-xl border-2 border-slate-700 p-3 flex flex-col
                                ${selectedCard?.source === 'wave' ? 'border-yellow-500/30 bg-yellow-500/5 cursor-pointer' : ''}
                            `}
                        >
                            <div className="mb-2 flex justify-between">
                                <span className="text-xs font-bold text-slate-400 uppercase">Unassigned Units</span>
                                <span className="text-xs text-slate-500">{unassignedCards.length} remaining</span>
                            </div>

                            <div className="flex-1 flex flex-wrap content-start gap-2 overflow-y-auto">
                                {unassignedCards.length === 0 && (
                                    <div className="w-full h-full flex items-center justify-center text-slate-600 text-xs text-center p-4">
                                        All units assigned to waves.
                                    </div>
                                )}
                                {unassignedCards.map(card => (
                                    <Card
                                        key={card.uid}
                                        card={card}
                                        small
                                        selected={selectedCard?.card.uid === card.uid}
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            handleCardClick(card, 'hand');
                                        }}
                                    />
                                ))}
                            </div>
                        </div>

                    </div>
                </div>
            );
        };

        const BattleScreen = ({
            playerWave,
            computerWave,
            waveIndex,
            onBattleComplete
        }) => {
            const [phase, setPhase] = useState('deploy'); // deploy, reveal, result
            const [winner, setWinner] = useState(null);

            const playerPower = playerWave.reduce((acc, c) => acc + c.power, 0);
            const cpuPower = computerWave.reduce((acc, c) => acc + c.power, 0);

            useEffect(() => {
                let timer1, timer2;

                // Sequence the animation
                timer1 = setTimeout(() => {
                    setPhase('reveal');

                    timer2 = setTimeout(() => {
                        setPhase('result');
                        if (playerPower > cpuPower) setWinner('player');
                        else if (cpuPower > playerPower) setWinner('computer');
                        else setWinner('tie');
                    }, 1500);

                }, 1000);

                return () => {
                    clearTimeout(timer1);
                    clearTimeout(timer2);
                };
            }, [playerPower, cpuPower]);

            return (
                <div className="flex-1 flex flex-col bg-slate-900 p-4 relative overflow-hidden">
                    {/* Background Elements */}
                    <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-800 via-slate-900 to-black opacity-50 z-0"></div>

                    {/* VS Badge */}
                    <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20">
                        <div className="bg-red-600 text-white font-black text-2xl p-4 rounded-full shadow-xl border-4 border-slate-900 animate-pulse">
                            VS
                        </div>
                    </div>

                    {/* Computer Wave (Top) */}
                    <div className="flex-1 flex flex-col items-center justify-start py-8 z-10">
                        <div className="flex gap-4 mb-4">
                            {computerWave.map((card, i) => (
                                <div
                                    key={i}
                                    className={`transform transition-all duration-500 ${phase === 'deploy' ? '-translate-y-20 opacity-0' : 'translate-y-0 opacity-100'}`}
                                    style={{ transitionDelay: `${i * 100}ms` }}
                                >
                                    <Card card={card} revealed={phase !== 'deploy'} />
                                </div>
                            ))}
                            {/* Fill empty slots visually if wave < 5? No, just show cards */}
                        </div>
                        <div className={`transition-all duration-500 ${phase === 'result' ? 'opacity-100 scale-100' : 'opacity-0 scale-90'}`}>
                            <div className="bg-slate-800 px-6 py-2 rounded-full border border-slate-700 flex items-center gap-2">
                                <Monitor size={16} className="text-red-400" />
                                <span className="text-slate-400 font-bold uppercase text-sm">CPU Power</span>
                                <span className="text-2xl font-black text-white">{phase === 'result' ? cpuPower : '?'}</span>
                            </div>
                        </div>
                    </div>

                    {/* Player Wave (Bottom) */}
                    <div className="flex-1 flex flex-col items-center justify-end py-8 z-10">
                        <div className={`transition-all duration-500 mb-4 ${phase === 'result' ? 'opacity-100 scale-100' : 'opacity-0 scale-90'}`}>
                            <div className="bg-slate-800 px-6 py-2 rounded-full border border-slate-700 flex items-center gap-2">
                                <User size={16} className="text-blue-400" />
                                <span className="text-slate-400 font-bold uppercase text-sm">Your Power</span>
                                <span className="text-2xl font-black text-white">{playerPower}</span>
                            </div>
                        </div>
                        <div className="flex gap-4">
                            {playerWave.map((card, i) => (
                                <div
                                    key={card.uid}
                                    className={`transform transition-all duration-500 ${phase === 'deploy' ? 'translate-y-20 opacity-0' : 'translate-y-0 opacity-100'}`}
                                    style={{ transitionDelay: `${i * 100}ms` }}
                                >
                                    <Card card={card} revealed={true} />
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Result Overlay */}
                    {phase === 'result' && (
                        <div className="absolute inset-0 z-30 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in">
                            <div className="bg-slate-800 p-8 rounded-2xl border-2 border-slate-600 shadow-2xl flex flex-col items-center max-w-sm text-center">
                                {winner === 'player' && <Trophy size={48} className="text-yellow-400 mb-4 animate-bounce" />}
                                {winner === 'computer' && <Skull size={48} className="text-red-500 mb-4" />}
                                {winner === 'tie' && <Swords size={48} className="text-slate-400 mb-4" />}

                                <h2 className="text-3xl font-black text-white mb-2 uppercase">
                                    {winner === 'player' ? 'Wave Won!' : winner === 'computer' ? 'Wave Lost' : 'Stalemate'}
                                </h2>
                                <p className="text-slate-400 mb-6 text-sm">
                                    {winner === 'player'
                                        ? `You captured ${playerWave.length + computerWave.length} units.`
                                        : winner === 'computer'
                                            ? 'Enemy captured the battlefield.'
                                            : 'No territory gained.'}
                                </p>

                                <button
                                    onClick={() => onBattleComplete(winner, playerPower + cpuPower)}
                                    className="px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-xl w-full"
                                >
                                    Continue
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        function SoldierShowdown() {
            const [gameState, setGameState] = useState('setup'); // setup, planning, battle, gameover
            const [handSize, setHandSize] = useState(10);

            // Data
            const [playerHand, setPlayerHand] = useState([]);
            const [computerHand, setComputerHand] = useState([]);

            // Organization
            const [playerWaves, setPlayerWaves] = useState([]);
            const [computerWaves, setComputerWaves] = useState([]);
            const [currentWaveIndex, setCurrentWaveIndex] = useState(0);

            // Score
            const [scores, setScores] = useState({ player: 0, computer: 0 });

            const startGame = (size) => {
                // Track game start
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'game_start', {
                        'game_name': 'Soldier Showdown',
                        'army_size': size
                    });
                }

                setHandSize(size);
                const pDeck = createDeck(size);
                const cDeck = createDeck(size);

                setPlayerHand(pDeck);
                setComputerHand(cDeck);

                // Initialize empty waves for player
                const numWaves = Math.ceil(size / 5);
                setPlayerWaves(Array.from({ length: numWaves }, () => []));

                // AI: Randomly distribute to waves
                const aiWaves = Array.from({ length: numWaves }, () => []);
                let deckCopy = [...cDeck];
                // Simple AI: Fill waves sequentially for now
                for (let i = 0; i < numWaves; i++) {
                    // Take up to 5 cards
                    const chunk = deckCopy.splice(0, 5);
                    aiWaves[i] = chunk;
                }
                setComputerWaves(aiWaves);

                setScores({ player: 0, computer: 0 });
                setCurrentWaveIndex(0);
                setGameState('planning');
            };

            const handleBattleComplete = (winner, potSize) => {
                // Track wave completion
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'wave_complete', {
                        'game_name': 'Soldier Showdown',
                        'wave_number': currentWaveIndex + 1,
                        'wave_result': winner
                    });
                }

                if (winner === 'player') {
                    setScores(prev => ({ ...prev, player: prev.player + potSize }));
                } else if (winner === 'computer') {
                    setScores(prev => ({ ...prev, computer: prev.computer + potSize }));
                } else {
                    // Tie - split pot
                    const split = Math.floor(potSize / 2);
                    setScores(prev => ({ player: prev.player + split, computer: prev.computer + split }));
                }

                const nextWave = currentWaveIndex + 1;
                if (nextWave >= playerWaves.length) {
                    setGameState('gameover');
                } else {
                    setCurrentWaveIndex(nextWave);
                    setGameState('planning');
                }
            };

            if (gameState === 'setup') {
                return <SetupScreen onStart={startGame} />;
            }

            if (gameState === 'gameover') {
                const isWin = scores.player > scores.computer;

                // Track game over event
                React.useEffect(() => {
                    if (typeof gtag !== 'undefined') {
                        gtag('event', isWin ? 'victory' : 'game_over', {
                            'game_name': 'Soldier Showdown',
                            'final_score': scores.player,
                            'cpu_score': scores.computer,
                            'army_size': handSize,
                            'result': isWin ? 'victory' : 'defeat'
                        });
                    }
                }, []); // Run once when game over screen appears

                return (
                    <div className="min-h-screen bg-slate-900 flex items-center justify-center p-4">
                        <div className="max-w-md w-full bg-slate-800 p-8 rounded-2xl border border-slate-700 text-center shadow-2xl">
                            {isWin ? (
                                <Trophy size={80} className="text-yellow-400 mx-auto mb-6 animate-bounce" />
                            ) : (
                                <Skull size={80} className="text-red-500 mx-auto mb-6" />
                            )}

                            <h1 className="text-4xl font-black text-white mb-2">{isWin ? 'VICTORY' : 'DEFEAT'}</h1>
                            <p className="text-slate-400 mb-8">{isWin ? 'You crushed the enemy army!' : 'Your forces have been decimated.'}</p>

                            <div className="flex justify-center gap-12 mb-8 bg-slate-900/50 p-6 rounded-xl">
                                <div className="flex flex-col">
                                    <span className="text-xs font-bold text-slate-500 uppercase">Your Score</span>
                                    <span className="text-3xl font-black text-white">{scores.player}</span>
                                </div>
                                <div className="flex flex-col">
                                    <span className="text-xs font-bold text-slate-500 uppercase">CPU Score</span>
                                    <span className="text-3xl font-black text-red-400">{scores.computer}</span>
                                </div>
                            </div>

                            <button
                                onClick={() => setGameState('setup')}
                                className="w-full py-4 bg-slate-700 hover:bg-slate-600 text-white font-bold rounded-xl flex items-center justify-center gap-2"
                            >
                                <RotateCcw size={20} /> Play Again
                            </button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="h-screen flex flex-col bg-slate-950">
                    {/* Top Bar Stats */}
                    <div className="h-16 bg-slate-900 border-b border-slate-800 flex items-center justify-between px-6 shrink-0 z-50">
                        <div className="flex items-center gap-4">
                            <div className="flex flex-col">
                                <span className="text-[10px] text-slate-500 font-bold uppercase">Player</span>
                                <span className="text-xl font-black text-blue-400">{scores.player}</span>
                            </div>
                            <div className="w-px h-8 bg-slate-800"></div>
                            <div className="flex flex-col">
                                <span className="text-[10px] text-slate-500 font-bold uppercase">CPU</span>
                                <span className="text-xl font-black text-red-400">{scores.computer}</span>
                            </div>
                        </div>

                        <div className="font-bold text-slate-200">
                            {gameState === 'planning' ? 'STRATEGY PHASE' : 'BATTLE PHASE'}
                        </div>

                        <div className="flex items-center gap-2 text-slate-500 text-sm font-mono">
                            Wave {currentWaveIndex + 1} / {playerWaves.length}
                        </div>
                    </div>

                    {gameState === 'planning' && (
                        <PlanningScreen
                            playerHand={playerHand}
                            playerWaves={playerWaves}
                            currentWaveIndex={currentWaveIndex}
                            totalWaves={playerWaves.length}
                            onUpdateWaves={setPlayerWaves}
                            onReady={() => setGameState('battle')}
                        />
                    )}

                    {gameState === 'battle' && (
                        <BattleScreen
                            playerWave={playerWaves[currentWaveIndex]}
                            computerWave={computerWaves[currentWaveIndex]}
                            waveIndex={currentWaveIndex}
                            onBattleComplete={handleBattleComplete}
                        />
                    )}
                </div>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<SoldierShowdown />);
    </script>
</body>

</html>